{"version":3,"file":"index.js","mappings":"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","sources":["webpack://k6-jslib-totp/webpack/bootstrap","webpack://k6-jslib-totp/./src/totp.js","webpack://k6-jslib-totp/webpack/runtime/define property getters","webpack://k6-jslib-totp/webpack/runtime/hasOwnProperty shorthand","webpack://k6-jslib-totp/webpack/runtime/make namespace object"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","function TOTP(key, digits = 6) {\n    this.key = key\n    this.digits = digits\n}\n\nTOTP.prototype = {\n    gen: async function (timeStep = 30, bias = 0) {\n        const _hex = this._base32tohex(this.key)\n        const _hexi = BigInt('0x' + _hex)\n        const _keybytes = this._bigIntToByteArray(_hexi)\n        const _time = Math.floor((Date.now() / 1000 - bias) / timeStep)\n        const _timeFactor = this._int32ToByteArray(_time)\n        const key = await crypto.subtle.importKey(\n            'raw',\n            _keybytes,\n            { name: 'HMAC', hash: { name: 'SHA-1' } },\n            false,\n            ['sign']\n        )\n        const signature = await crypto.subtle.sign('HMAC', key, _timeFactor)\n        return this._truncate(new Uint8Array(signature))\n    },\n\n    _int32ToByteArray: function (time) {\n        const _buf = new ArrayBuffer(8)\n        const _view = new DataView(_buf)\n        _view.setUint32(4, time, false)\n        return _buf\n    },\n\n    _bigIntToByteArray: function (bigNumber) {\n        let bytes = []\n        while (bigNumber > 0) {\n            bytes.push(Number(bigNumber % BigInt(256)))\n            bigNumber = bigNumber / BigInt(256)\n        }\n        let result = Uint8Array.from(bytes)\n        return result.reverse()\n    },\n\n    _truncate: function (hmac) {\n        const offset = hmac[hmac.length - 1] & 0xf\n        const bin_code =\n            ((hmac[offset + 0] & 0x7f) << 24) |\n            ((hmac[offset + 1] & 0xff) << 16) |\n            ((hmac[offset + 2] & 0xff) << 8) |\n            (hmac[offset + 3] & 0xff)\n        let code = (bin_code % Math.pow(10, this.digits)).toString().padStart(this.digits, '0')\n        return code\n    },\n\n    verify: async function (code, timeStep = 30) {\n        return code === (await this.gen(timeStep))\n    },\n\n    _base32tohex: function (base32) {\n        const base32chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ234567'\n        let bits = ''\n        let hex = ''\n        for (let i = 0; i < base32.length; i++) {\n            const val = base32chars.indexOf(base32.charAt(i).toUpperCase())\n            bits += val.toString(2).padStart(5, '0')\n        }\n        for (let i = 0; i + 4 <= bits.length; i += 4) {\n            const chunk = bits.substr(i, 4)\n            hex += parseInt(chunk, 2).toString(16)\n        }\n        return hex\n    },\n}\n\nexport { TOTP }\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};"],"names":["_verify","_gen","__webpack_require__","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","e","t","r","n","iterator","i","c","Generator","u","create","_regeneratorDefine2","f","p","y","G","v","a","d","bind","length","l","TypeError","done","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","_regenerator","w","m","_invoke","configurable","writable","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","TOTP","digits","undefined","this","gen","_callee","timeStep","bias","_hex","_hexi","_keybytes","_time","_timeFactor","signature","_args","_context","_base32tohex","BigInt","_bigIntToByteArray","Math","floor","Date","now","_int32ToByteArray","crypto","subtle","importKey","name","hash","sign","_truncate","Uint8Array","time","_buf","ArrayBuffer","DataView","setUint32","bigNumber","bytes","push","Number","from","reverse","hmac","offset","pow","toString","padStart","verify","_callee2","code","_t","_t2","_args2","_context2","_x","base32","bits","hex","indexOf","charAt","toUpperCase","chunk","substr","parseInt"],"ignoreList":[],"sourceRoot":""}